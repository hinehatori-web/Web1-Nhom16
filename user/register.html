<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ÄÄƒng kÃ½ | AccountShop</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <!-- ===== Header ===== -->
  <header>
    <span id="userInfo"></span>
    <button id="logoutBtn" style="display:none; margin-left:10px;">ÄÄƒng xuáº¥t</button>
    <a href="cart.html" id="cartLink">Giá» hÃ ng</a>
    <a href="profile.html" id="profileLink">Trang cÃ¡ nhÃ¢n</a>
    <a href="index.html" id="homeLink">Trang chá»§</a>
  </header>

  <!-- ===== Form Ä‘Äƒng kÃ½ ===== -->
  <div class="form-container">
    <h2>ğŸ® ÄÄƒng kÃ½ tÃ i khoáº£n</h2>
    <form id="registerForm">
      <label for="regName">Há» vÃ  tÃªn</label>
      <input type="text" id="regName" placeholder="Nháº­p há» tÃªn..." required>

      <label for="regPhone">Sá»‘ Ä‘iá»‡n thoáº¡i</label>
      <input type="tel" id="regPhone" placeholder="Nháº­p sá»‘ Ä‘iá»‡n thoáº¡i..." required>

      <label for="regEmail">Email</label>
      <input type="email" id="regEmail" placeholder="Nháº­p email..." required>

      <label for="regPassword">Máº­t kháº©u</label>
      <input type="password" id="regPassword" placeholder="Nháº­p máº­t kháº©u..." required>

      <button type="submit">ÄÄƒng kÃ½</button>
      <p style="text-align:center; margin-top:10px; color:#ccc;">
        ÄÃ£ cÃ³ tÃ i khoáº£n? <a href="login.html" style="color:#00e0ff;">ÄÄƒng nháº­p</a>
      </p>
    </form>
  </div>

  <footer>Â© 2025 AccountShop</footer>

  <!-- ===== JS xá»­ lÃ½ Ä‘Äƒng kÃ½ ===== -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("registerForm");
      const nameInput = document.getElementById("regName");
      const phoneInput = document.getElementById("regPhone");
      const emailInput = document.getElementById("regEmail");
      const passwordInput = document.getElementById("regPassword");

      form.addEventListener("submit", (e) => {
        e.preventDefault();

        const name = nameInput.value.trim();
        const phone = phoneInput.value.trim();
        const email = emailInput.value.trim();
        const password = passwordInput.value.trim();

        if (!name || !phone || !email || !password) {
          alert("âš ï¸ Vui lÃ²ng nháº­p Ä‘áº§y Ä‘á»§ thÃ´ng tin!");
          return;
        }

        let users = JSON.parse(localStorage.getItem("users")) || [];

        // Kiá»ƒm tra email trÃ¹ng
        if (users.some(u => u.email === email)) {
          alert("âš ï¸ Email Ä‘Ã£ Ä‘Æ°á»£c sá»­ dá»¥ng!");
          return;
        }

        // LÆ°u user má»›i
        const newUser = { name, phone, email, password };
        users.push(newUser);
        localStorage.setItem("users", JSON.stringify(users));

        alert("ğŸ‰ ÄÄƒng kÃ½ thÃ nh cÃ´ng! Vui lÃ²ng Ä‘Äƒng nháº­p Ä‘á»ƒ tiáº¿p tá»¥c.");
        form.reset();
        window.location.href = "login.html";
      });
    });
  </script>
</body>
</html>
